<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>2: CodeBuild on Robert Boscacci</title><link>https://robertboscacci.com/projects/aws_devops/1_sdlc-automation/2_codebuild/</link><description>Recent content in 2: CodeBuild on Robert Boscacci</description><generator>Hugo</generator><language>en</language><lastBuildDate>Sat, 10 Jun 2023 02:25:46 -0500</lastBuildDate><atom:link href="https://robertboscacci.com/projects/aws_devops/1_sdlc-automation/2_codebuild/index.xml" rel="self" type="application/rss+xml"/><item><title>0: CodeBuild Overview</title><link>https://robertboscacci.com/projects/aws_devops/1_sdlc-automation/2_codebuild/0_overview/</link><pubDate>Thu, 08 Jun 2023 02:25:46 -0500</pubDate><guid>https://robertboscacci.com/projects/aws_devops/1_sdlc-automation/2_codebuild/0_overview/</guid><description>&lt;h2 id="what-is-it" class="relative group">What is it? &lt;/h2>&lt;ul>
&lt;li>CI service, fully managed (no maintaining build servers)&lt;/li>
&lt;li>Compiles source code&lt;/li>
&lt;li>Runs tests&lt;/li>
&lt;li>Prepackaged build environments for common langs&lt;/li>
&lt;li>Produces software packages ready-to-deploy (&lt;strong>&amp;ldquo;artifacts&amp;rdquo;&lt;/strong>)
&lt;ul>
&lt;li>E.g. for java, a .jar file&lt;/li>
&lt;li>Artifacts &lt;strong>land in S3&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="do-we-need-codebuild-if-its-not-a-compiled-lang" class="relative group">Do we need codebuild if it&amp;rsquo;s not a compiled lang? &lt;/h2>&lt;ul>
&lt;li>Perhaps not&lt;/li>
&lt;li>Maybe we don&amp;rsquo;t need a build stage for e.g. HTML or Python&lt;/li>
&lt;/ul>
&lt;h2 id="what-are-we-charged-for" class="relative group">What are we charged for? &lt;/h2>&lt;ul>
&lt;li>Just when builds are running.&lt;/li>
&lt;/ul>
&lt;h2 id="how-can-we-access-codebuild" class="relative group">How can we access CodeBuild? &lt;/h2>&lt;ul>
&lt;li>Console&lt;/li>
&lt;li>CLI&lt;/li>
&lt;li>SDK&lt;/li>
&lt;li>CodePipeline&lt;/li>
&lt;/ul></description></item><item><title>1: CodeBuild Projects</title><link>https://robertboscacci.com/projects/aws_devops/1_sdlc-automation/2_codebuild/1_codebuild/</link><pubDate>Sat, 10 Jun 2023 02:25:46 -0500</pubDate><guid>https://robertboscacci.com/projects/aws_devops/1_sdlc-automation/2_codebuild/1_codebuild/</guid><description>&lt;h2 id="what-are-codebuild-projects" class="relative group">What are CodeBuild Projects? &lt;/h2>&lt;ul>
&lt;li>CodeBuild requires a &lt;strong>build project:&lt;/strong>
&lt;ul>
&lt;li>The build project creates a build env&lt;/li>
&lt;li>Can be created via CLI or console&lt;/li>
&lt;li>Project contains info about how to run a build:
&lt;ul>
&lt;li>Where src code?&lt;/li>
&lt;li>Which env to use?&lt;/li>
&lt;li>Which commands to run?&lt;/li>
&lt;li>Where to deposit output artifact? (on S3)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="what-is-a-buildspec-file" class="relative group">What is a &amp;ldquo;buildspec&amp;rdquo; file? &lt;/h2>&lt;ul>
&lt;li>It&amp;rsquo;s the buildspec.yml file with build commands + settings&lt;/li>
&lt;li>Must be in root of code source directory&lt;/li>
&lt;li>Usually zipped with the src code, but can be uploaded with build project&lt;/li>
&lt;li>buildspec.yml has phases:
&lt;ul>
&lt;li>Install (e.g. Apache Maven)&lt;/li>
&lt;li>Pre-build (e.g. connect to ECR)&lt;/li>
&lt;li>Build (e.g. compile the .jar)&lt;/li>
&lt;li>Post-build (e.g. confirmation message)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Each phase has commands
&lt;ul>
&lt;li>Regular arbitrary shell commands to run&lt;/li>
&lt;li>&amp;ldquo;finally&amp;rdquo; commands which run regardless of ^ outcome&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="what-are-potential-code-sources-for-codebuild" class="relative group">What are potential code sources for CodeBuild? &lt;/h2>&lt;ul>
&lt;li>CodeCommit&lt;/li>
&lt;li>S3 bucket (w/ versioning enabled)&lt;/li>
&lt;li>GitHub (enterprise) / Bitbucket&lt;/li>
&lt;/ul>
&lt;h2 id="must-you-manually-run-codebuild-after-codecommit-merges" class="relative group">Must you (manually) run CodeBuild after CodeCommit merges? &lt;/h2>&lt;ul>
&lt;li>You could set up a cloudWatch event to watch your repo
&lt;ul>
&lt;li>On successful merge, run builds automatically&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="how-would-you-notify-personnel-re-new-build-logs" class="relative group">How would you notify personnel re: new build logs? &lt;/h2>&lt;ul>
&lt;li>CodeBuild -&amp;gt; CloudWatch (AKA eventBridge) event to listen for logs
&lt;ul>
&lt;li>CloudWatch (EventBridge) Event -&amp;gt; SNS (text, email)&lt;/li>
&lt;li>CloudWatch (EventBridge) Event -&amp;gt; Lambda f&amp;rsquo;n -&amp;gt; Slack / Discord&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="where-do-build-artifacts-end-up" class="relative group">Where do Build Artifacts End Up? &lt;/h2>&lt;ul>
&lt;li>S3 bucket&lt;/li>
&lt;/ul>
&lt;h2 id="is-a-service-role-needed-to-work-with-other-aws-services" class="relative group">Is a service role needed to work with other AWS services? &lt;/h2>&lt;ul>
&lt;li>Yes; e.g. if you need to tie into codebuild, Lambda, or CF&lt;/li>
&lt;/ul>
&lt;h1 id="what-do-you-need-if-working-with-a-vpc" class="relative group">What do you need if working with a VPC? &lt;/h1>&lt;ul>
&lt;li>VPC ID&lt;/li>
&lt;li>Subnet IDs&lt;/li>
&lt;li>Security groups&lt;/li>
&lt;li>These might apply if working with ec2 instances&lt;/li>
&lt;/ul>
&lt;h2 id="etcetera" class="relative group">Etcetera &lt;/h2>&lt;ul>
&lt;li>We can tie in SNS for notifications&lt;/li>
&lt;li>We can use CloudWatch for logging&lt;/li>
&lt;li>Buckets have to be in the same region as build&lt;/li>
&lt;/ul></description></item></channel></rss>